{% extends "./template.html" %}
{% block content %}
<style>
.resumo{
    justify-content: center;
    align-items: center;
    display: flex;
}
</style>
        <h2>Listagem de entregas</h2>
        <h3>Referente ao período de {{ data_inicial.strftime('%d/%m/%Y') + " á " + data_final.strftime('%d/%m/%Y') }}</h3>

    <div class="resumo">
    <div class="resumoentregas">
    <h2>Rank de motoristas</h2>
   <table class="listagemtabela">
    <tr>
        <th>Nome:</th>
        <th>Positivos</th>
        <th>Negativos</th>
        <th>Total</th>
    </tr>
        {% for i in resultados %}
    <tr>
        <td>{{ i.motorista }}</td>
        <td>{{ i.total_positivo }}</td>
        <td>{{ i.total_negativo }}</td>
        <td>{{ i.total_sum  }}</td>

    </tr>
        {% endfor %}

    </table>
</div>

       <div class="resumoentregas">
       <h2>Entregas por rota</h2>
   <table class="listagemtabela">
    <tr>
        <th>Rota:</th>
        <th>Entregas</th>
        <th>Reentregas</th>
    </tr>
        {% for i in resultados_entregas %}
    <tr>
        <td>{{ i.rota }}</td>
        <td>{{ i.total_entregas }}</td>
        <td>{{ i.total_reentregas }}</td>

    </tr>
        {% endfor %}

    </table><br>
</div>


           <div class="resumoentregas">
       <h3>Total de Entregas: {{ total_de_entregas }}</h3>
       <h3>Total de Reentregas: {{ total_de_reentregas }}</h3>

               <br>
</div>
</div>
    <br>
    <br>
    <br>
    <div>
    <table class="tabelaentregas">
  <tr>
      <th>Data da entrega</th>
    <th>Motorista</th>
    <th>Ajudante</th>
    <th>Rota</th>
    <th>Q. de Entrega</th>
      <th>Reentregas</th>
    <th>Tempo total</th>
    <th>T. médio total</th>
      <th>Tempo de entregas</th>
      <th>T. médio entregas</th>
      <th>Tempo</th>
      <th class="botoesacao">Ação</th>
  </tr>
   {% for entrega in entregas %}
  <tr>
      <td>{{ entrega.data_da_entrega.strftime('%d/%m/%Y') }}</td>
    <td>{{ entrega.motorista }}</td>
    <td>{{ entrega.ajudante }}</td>
    <td>{{ entrega.rota }}</td>
    <td>{{ entrega.quantidade_de_entregas }}</td>
    <td>{{ entrega.reentregas }}</td>
      <td>{{ entrega.tempo_total }}</td>
      <td>{{ entrega.tempo_medio_total }}</td>
    <td>{{ entrega.tempo_total_entrega }}</td>
   <td>{{ entrega.tempo_medio_entrega }}</td>
  <td>{{ entrega.resultado_tempo }}</td>
   <td class="botoesacao">
    <form action="/entregas/deletar_entrega/{{ entrega.id }}" method="post">
    <input type="submit" value="Apagar">
    </form></td>
  </tr>
        {% endfor %}
</table>
</div>

{% endblock %}